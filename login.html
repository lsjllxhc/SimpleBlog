<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>管理员登录</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="topbar">
    <a class="topbar-icon" aria-label="主页" href="index.html">
      <svg viewBox="0 0 24 24" width="28" height="28" fill="none">
        <path d="M3 11.5L12 4L21 11.5V20A1 1 0 0 1 20 21H4A1 1 0 0 1 3 20V11.5Z" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M9 21V14H15V21" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </a>
    <div class="topbar-title">管理员登录</div>
  </header>
  <div class="container">
    <div class="login-card">
      <h2 style="margin-bottom:18px;">管理员登录</h2>
      <input type="password" id="adminPassword" placeholder="请输入管理员密码" autocomplete="current-password" style="margin-bottom:12px;">
      <button id="adminLoginBtn" style="width:100%;">登录</button>
      <div class="admin-login-error" id="adminLoginError" style="color:#c00;margin-top:8px;"></div>
    </div>
  </div>
  <script>
    function getAdminPassword() {
      return localStorage.getItem('adminPassword') || 'admin';
    }
    document.getElementById('adminLoginBtn').onclick = function () {
      const inputPwd = document.getElementById('adminPassword').value;
      if (inputPwd === getAdminPassword()) {
        sessionStorage.setItem('adminLoggedIn', '1');
        location.href = "panel.html";
      } else {
        document.getElementById('adminLoginError').textContent = '密码错误';
      }
    };
    document.getElementById('adminPassword').addEventListener('keydown',function(e){
      if(e.key==="Enter") document.getElementById('adminLoginBtn').click();
    });
    // 风格同步
    document.addEventListener('DOMContentLoaded', function () {
      document.documentElement.style.setProperty('--primary', localStorage.getItem('adminThemeColor') || '#3F51B5');
    });
  </script>
</body>
</html>